@model Fuddo.Models.Order
@{
    ViewData["Title"] = "Chi tiết đơn hàng #" + Model.Id;
}

<div class="container mt-4">
    <h2 class="mb-4">Chi tiết đơn hàng #@Model.Id</h2>

    <div class="row">
        <div class="col-md-6">
            <h5>Thông tin người nhận</h5>
            <p><strong>Họ tên:</strong> @Model.User.FullName</p>
            <p><strong>Số điện thoại:</strong> @Model.Phone</p>
            <p><strong>Địa chỉ:</strong> @Model.Address</p>
            @if (!string.IsNullOrEmpty(Model.Note))
            {
                <p><strong>Ghi chú:</strong> @Model.Note</p>
            }
        </div>

        <div class="col-md-6">
            <h5>Thông tin đơn hàng</h5>
            <p><strong>Ngày đặt:</strong> @Model.OrderDate.ToString("dd/MM/yyyy HH:mm")</p>
            <p><strong>Tình trạng:</strong> @Model.Status</p>
            <p><strong>Tổng tiền:</strong> <span class="text-danger fw-bold">@Model.TotalAmount.ToString("N0") ₫</span></p>
        </div>
    </div>

    <hr />

    <h5>Danh sách sản phẩm</h5>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Sản phẩm</th>
                <th>Đơn giá</th>
                <th>Số lượng</th>
                <th>Thành tiền</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.OrderDetails)
            {
                <tr>
                    <td>@item.Product?.Name</td>
                    <td>@item.UnitPrice.ToString("N0") ₫</td>
                    <td>@item.Quantity</td>
                    <td>@((item.UnitPrice* item.Quantity).ToString("N0")) ₫</td>
                </tr>
            }
        </tbody>
    </table>

    <a href="/Order/My" class="btn btn-secondary mt-3">Quay lại danh sách đơn hàng</a>
</div>
